"use strict";(self.webpackChunktask_app=self.webpackChunktask_app||[]).push([[823],{5823:(y,g,i)=>{i.r(g),i.d(g,{LoginModule:()=>L});var m=i(6895),u=i(646),t=i(433),n=i(8256),p=i(7253),d=i(7185);function c(o,r){1&o&&(n.TgZ(0,"span",12),n._uU(1,"Please enter api key"),n.qZA())}function f(o,r){1&o&&(n.TgZ(0,"span",12),n._uU(1,"Please enter valid name"),n.qZA())}const v=[{path:"",component:(()=>{class o{constructor(e,s,l){this.router=e,this.userService=s,this.toastr=l,this.loginForm=new t.cw({name:new t.NI("",[t.kI.required]),apiKey:new t.NI("",[t.kI.required])}),this.serverErrorMessages=""}ngOnInit(){this.userService.isLoggedIn()&&this.router.navigateByUrl("/dashboard")}login(){this.loginForm.valid&&this.userService.login(this.loginForm.value).subscribe(e=>{localStorage.setItem("isLoggedin","true"),this.userService.setToken(e.token.token),this.router.navigateByUrl("/dashboard"),this.toastr.success("Login successfully")},e=>{console.log(e.error),this.toastr.error(e.error)})}}return o.\u0275fac=function(e){return new(e||o)(n.Y36(u.F0),n.Y36(p.K),n.Y36(d._W))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-login"]],decls:17,vars:3,consts:[[1,"main"],[1,"container"],[1,"row"],[1,"col-12"],[1,"login-box"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["type","password","placeholder","Id","formControlName","apiKey",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","id","exampleInputPassword1","placeholder","Name","formControlName","name",1,"form-control"],[1,""],["type","submit",1,"btn","btn-primary","w-100"],[1,"text-danger"]],template:function(e,s){if(1&e&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1"),n._uU(6,"Login"),n.qZA(),n.TgZ(7,"form",5),n.NdJ("ngSubmit",function(){return s.login()}),n.TgZ(8,"div",6),n._UZ(9,"input",7),n.YNc(10,c,2,0,"span",8),n.qZA(),n.TgZ(11,"div",6),n._UZ(12,"input",9),n.YNc(13,f,2,0,"span",8),n.qZA(),n.TgZ(14,"div",10)(15,"button",11),n._uU(16,"Login"),n.qZA()()()()()()()()),2&e){let l,a;n.xp6(7),n.Q6J("formGroup",s.loginForm),n.xp6(3),n.Q6J("ngIf",(null==(l=s.loginForm.get("apiKey"))?null:l.invalid)&&(null==(l=s.loginForm.get("apiKey"))?null:l.touched)),n.xp6(3),n.Q6J("ngIf",(null==(a=s.loginForm.get("name"))?null:a.invalid)&&(null==(a=s.loginForm.get("name"))?null:a.touched))}},dependencies:[m.O5,t._Y,t.Fj,t.JJ,t.JL,t.sg,t.u]}),o})()}];let h=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[u.Bz.forChild(v),u.Bz]}),o})(),L=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[m.ez,h,t.UX]}),o})()}}]);